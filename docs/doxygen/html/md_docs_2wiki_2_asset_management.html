<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>R-Type: Asset Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">R-Type
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_docs_2wiki_2_asset_management.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Asset Management </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md62"></a></p>
<p>This section details how game assets (sprites, backgrounds, etc.) are managed and loaded within the R-Type project, primarily focusing on the client-side implementation.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md63"></a>
Overview</h1>
<p>The R-Type client employs an <span class="tt">AssetManager</span> to handle the loading and management of various game assets, such as textures and images. A key feature of this system is the ability to embed assets directly into the executable at compile-time, reducing reliance on external files at runtime. This is particularly useful for ensuring all necessary assets are present and loaded efficiently.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md64"></a>
<span class="tt">AssetManager</span> (<span class="tt">client/AssetManager.hpp</span>)</h1>
<p>The <span class="tt"><a class="el" href="classasset_1_1_asset_manager.html" title="Manages embedded assets and provides runtime loading capabilities.">asset::AssetManager</a></span> class is responsible for:</p>
<ul>
<li><b>Embedded Asset Handling</b>: It can export image files as C header files (<span class="tt">exportImageAsCode</span>) which contain the image data as static arrays. These embedded assets can then be registered (<span class="tt">registerEmbeddedImage</span>) and loaded at runtime using a special <span class="tt">embedded://</span> scheme.</li>
<li><b>Runtime Loading</b>: Provides methods (<span class="tt">loadTexture</span>, <span class="tt">loadImage</span>) to load assets. It first attempts to load from embedded data; if not found or if the path doesn't use the <span class="tt">embedded://</span> scheme, it falls back to loading from the file system.</li>
<li><b>Texture and Image Management</b>: Utilizes <span class="tt">raylib</span> functions for handling <span class="tt">Texture2D</span> and <span class="tt">Image</span> types.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md65"></a>
Key Methods:</h2>
<ul>
<li><span class="tt">static bool exportImageAsCode(const std::string &amp;imagePath, const std::string &amp;outputHeaderPath)</span>: Exports an image to a C header file for embedding.</li>
<li><span class="tt">static Texture2D loadTexture(const std::string &amp;path)</span>: Loads a texture, prioritizing embedded assets.</li>
<li><span class="tt">static Image loadImage(const std::string &amp;path)</span>: Loads an image, prioritizing embedded assets.</li>
<li><span class="tt">static void registerEmbeddedImage(const std::string &amp;name, void *data, int width, int height, int format)</span>: Registers an embedded image with a given name and its properties.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md66"></a>
<span class="tt">RenderManager</span> (<span class="tt">client/RenderManager.hpp</span>)</h1>
<p>The <span class="tt"><a class="el" href="classrender_manager_1_1_renderer.html">renderManager::Renderer</a></span> class, while primarily focused on rendering operations, defines constants for the paths to various core game assets. These paths often point to embedded assets, indicating their importance and how they are accessed by the rendering system.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md67"></a>
Asset Paths Defined:</h2>
<ul>
<li><span class="tt">WINDOW_WIDTH</span>, <span class="tt">WINDOW_HEIGHT</span>: Window dimensions.</li>
<li><span class="tt">SCROLL_SPEED</span>: Speed for background scrolling.</li>
<li><span class="tt">BG_PATH</span>: Path to the background asset (e.g., <span class="tt">embedded://background</span>).</li>
<li><span class="tt">PLAYER_PATH</span>: Path to the player spritesheet (e.g., <span class="tt">embedded://players</span>).</li>
<li><span class="tt">PROJECTILE_PATH</span>: Path to the projectile spritesheet (e.g., <span class="tt">embedded://projectiles</span>).</li>
<li><span class="tt">ENEMY_PATH</span>: Path to the enemy spritesheet (e.g., <span class="tt">embedded://enemy</span>).</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md68"></a>
Asset Resources (<span class="tt">client/resources/</span>)</h1>
<p>This directory contains the raw image files that are used as game assets. These files are typically processed by the <span class="tt">AssetManager</span> (e.g., embedded) or loaded directly at runtime.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md69"></a>
Contents:</h2>
<ul>
<li><span class="tt">background.png</span>: The main background image for the game.</li>
<li><span class="tt">enemies.gif</span>: Spritesheet or animation for enemy characters.</li>
<li><span class="tt">players.gif</span>: Spritesheet or animation for player characters.</li>
<li><span class="tt">projectiles.gif</span>: Spritesheet or animation for projectiles.</li>
<li><span class="tt">start_screen.png</span>: Image for the game's start screen.</li>
</ul>
<p>By combining embedded assets with a fallback to file-system loading, the R-Type client ensures efficient asset delivery and flexibility during development. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
